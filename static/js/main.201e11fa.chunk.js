(this["webpackJsonpcra-ts-bootstrap"]=this["webpackJsonpcra-ts-bootstrap"]||[]).push([[0],{102:function(e,t,n){"use strict";n.r(t);var c,r=n(4),a=n(0),o=n.n(a),i=n(20),s=n.n(i),d=(n(72),n(62)),l=n(7),u=n(23),h=n.n(u),m=n(27),b=n.n(m),p=n.p+"static/media/logo.24871596.png",j=n(13),f="576px",x="768px",g="992px",O="1200px",w=function(e){return"\n  @media (min-width: ".concat(x,") {\n    ").concat(e,"\n  }\n")},y=n(1),v=r.c.div.withConfig({displayName:"Header__Container",componentId:"zhyh1k-0"})(["display:flex;flex-flow:row wrap;justify-content:center;align-items:center;margin-bottom:30px;",""],w("\n    justify-content: flex-start;\n  ")),_=r.c.img.withConfig({displayName:"Header__Logo",componentId:"zhyh1k-1"})(["width:",";margin-right:",";object-fit:contain;"],(function(e){return e.isHome?"250px":"60px"}),(function(e){return e.isHome?"0":"10px"})),k=r.c.h1.withConfig({displayName:"Header__Title",componentId:"zhyh1k-2"})(["a{color:"," !important;text-decoration:none;}"],(function(e){return e.theme.white})),C=function(){var e="/"===Object(l.g)().pathname;return Object(y.jsxs)(v,{children:[Object(y.jsx)(j.b,{to:"/",children:Object(y.jsx)(_,{src:p,alt:"logo",isHome:e})}),Object(y.jsxs)("div",{className:"d-flex flex-column",children:[Object(y.jsx)(k,{children:Object(y.jsx)(j.b,{to:"/",children:"Spotify Browser"})}),e&&Object(y.jsx)("p",{className:"mt-2",children:"Browse through Spotify's albums collection"})]})]})},S=n(26),I=n(10),N=n(15),q=n.n(N),B=n(17),A=n(21),T=r.c.div.withConfig({displayName:"SearchNbResults__Container",componentId:"sc-1207cfu-0"})(["margin-bottom:20px;margin-left:10px;color:",";"],(function(e){return e.theme.faded})),H=function(e){var t=e.query,n=e.total;return Object(y.jsx)(T,{children:0===n?"Aucun r\xe9sultat pour ".concat(t):"".concat(n," album").concat(n>1?"s":""," trouv\xe9s pour ").concat(t)})},R=n(104),L=n(53),E=n(16),F=n(37),z=n(65),P=Object(r.c)(F.a).withConfig({displayName:"SearchBarstyles__StyledInputGroup",componentId:"nx68n3-0"})(["border-radius:10px;box-shadow:",";&:focus{border-color:",";}"],(function(e){var t=e.theme;return"".concat(t.outerShadow,", ").concat(t.innerShadow)}),(function(e){return e.theme.primary.main})),U=Object(r.c)(z.a).withConfig({displayName:"SearchBarstyles__StyledInput",componentId:"nx68n3-1"})(["padding:25px 20px !important;padding-left:0 !important;background-color:",";border-color:transparent;color:",";&:focus{background-color:",";border-color:transparent;border-bottom:1px solid ",";color:",";outline:none;box-shadow:none;}"],(function(e){return e.theme.black}),(function(e){return e.theme.faded}),(function(e){return e.theme.black}),(function(e){var t=e.theme;return Object(E.b)(.6,t.primary.main)}),(function(e){return e.theme.faded})),M=Object(r.c)(F.a.Text).withConfig({displayName:"SearchBarstyles__StyledInputIcon",componentId:"nx68n3-2"})(["background-color:",";border-color:transparent;"],(function(e){return e.theme.black})),D=function(e){var t=e.onSearch,n=Object(L.a)((function(e){t(e)}),300);return Object(y.jsxs)(P,{children:[Object(y.jsx)(P.Prepend,{children:Object(y.jsx)(M,{children:Object(y.jsx)(R.a,{})})}),Object(y.jsx)(U,{size:"lg",type:"text",placeholder:"Search for an album",onChange:function(e){n(e.target.value)}})]})},G=n(56),J=n(57),W=n(55),Y=n.n(W).a.humanizer({language:"shortEn",languages:{shortEn:{h:function(){return"h"},m:function(){return"m"},s:function(){return"s"}}}}),K=function(e){var t=e.find((function(e){return e.width<=300}));return t?t.url:!t&&e.length>0?e[0].url:"https://recordsale.de/assets/record_placeholder-f3f829566497dc26b0abfae50ddeb5c7bc48fe1c58dc1c7fe62a26d64988b9c9.svg"},Q=function(e){return e.map((function(e){return e.name})).join(", ")},V=function(e){var t=e.reduce((function(e,t){return e+t.duration_ms}),0);return Y(t,{units:["h","m"],round:!0,delimiter:" "})},X=Object(r.c)(j.b).withConfig({displayName:"SearchResultsstyles__StyledLink",componentId:"vkp7fg-0"})(["&:hover{text-decoration:none;}"]),Z=r.c.div.withConfig({displayName:"SearchResultsstyles__StyledAlbum",componentId:"vkp7fg-1"})(["width:100%;display:flex;flex-direction:column;color:",";"],(function(e){return e.theme.white})),$=r.c.div.withConfig({displayName:"SearchResultsstyles__Cover",componentId:"vkp7fg-2"})(["border-radius:10px;height:150px;padding:10px;box-shadow:",";background-color:",";margin-bottom:5px;"," "," "," ",""],(function(e){var t=e.theme;return"".concat(t.outerShadow,", ").concat(t.innerShadow)}),(function(e){return e.theme.black}),(c="\n    height: 180px;\n  ","\n  @media (min-width: ".concat(f,") {\n    ").concat(c,"\n  }\n")),w("\n    height: 200px;\n  "),function(e){return"\n  @media (min-width: ".concat(g,") {\n    ").concat(e,"\n  }\n")}("\n    height: 220px;\n  "),function(e){return"\n  @media (min-width: ".concat(O,") {\n    ").concat(e,"\n  }\n")}("\n    height: 250px;\n  ")),ee=r.c.img.withConfig({displayName:"SearchResultsstyles__CoverImg",componentId:"vkp7fg-3"})(["border-radius:10px;width:100%;height:100%;object-fit:cover;"]),te=r.c.div.withConfig({displayName:"SearchResultsstyles__Infos",componentId:"vkp7fg-4"})(["padding-left:10px;display:flex;flex-direction:column;"]),ne=r.c.small.withConfig({displayName:"SearchResultsstyles__MadeBy",componentId:"vkp7fg-5"})(["color:",";"],(function(e){return e.theme.faded})),ce=function(e){var t=e.results,n=Object(a.useState)([]),c=Object(A.a)(n,2),r=c[0],o=c[1];return Object(a.useEffect)((function(){o(t.map((function(e){return Object(I.a)(Object(I.a)({},e),{},{image:K(e.images),artists:Q(e.artists)})})))}),[t]),Object(y.jsx)(G.a,{children:r.map((function(e,t){return Object(y.jsx)(J.a,{xs:6,md:4,lg:3,className:"mb-3",children:Object(y.jsx)(X,{to:"/album/".concat(e.id),children:Object(y.jsxs)(Z,{children:[Object(y.jsx)($,{children:Object(y.jsx)(ee,{src:e.image,alt:"".concat(e.name," cover")})}),Object(y.jsxs)(te,{children:[Object(y.jsx)("span",{children:e.name}),Object(y.jsxs)(ne,{children:["by ",e.artists]})]})]})})},t)}))})},re=n(58),ae=n.n(re),oe=n(59),ie={timeout:3e4,baseURL:"https://api.spotify.com/v1",headers:{common:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache","Content-Type":"application/json",Accept:"application/json"}}},se=Object(oe.a)("".concat("ced4289ebd67414e94ff171945d4a0de",":").concat("05e972d2041648648c17a03b92ed16ee")),de=ae.a.create(Object(I.a)(Object(I.a)({},ie),{},{headers:Object(I.a)({},ie.headers)}));de.interceptors.request.use(function(){var e=Object(B.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h.a.get("token"),t.headers={Authorization:"Bearer ".concat(n)},e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Promise.reject(e)}));var le,ue=de,he=function(){var e=Object(B.a)(q.a.mark((function e(t){var n,c,r,a=arguments;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:0,e.prev=1,c=encodeURIComponent(t),e.next=5,ue.get("search?q=".concat(c,"&type=album&offset=").concat(n));case 5:return r=e.sent,e.abrupt("return",r.data);case 9:return e.prev=9,e.t0=e.catch(1),console.error("SEARCH ALBUMS / ",e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),me=n(66),be=n(60),pe=Object(r.c)(be.a).withConfig({displayName:"Button__StyledButton",componentId:"sc-9d9qu2-0"})(["background-color:"," !important;border-color:"," !important;color:"," !important;outline:none !important;box-shadow:none !important;border-radius:1rem;padding:5px 20px;box-shadow:"," !important;&:hover{background-color:"," !important;border-color:"," !important;}"],(function(e){return e.theme.primary.main}),(function(e){return e.theme.primary.main}),(function(e){return e.theme.primary.contrastText}),(function(e){return e.theme.outerShadow}),(function(e){return Object(E.a)(.1,e.theme.primary.main)}),(function(e){return Object(E.a)(.1,e.theme.primary.main)})),je=function(e){var t=e.children,n=Object(me.a)(e,["children"]),c=n.loading;return Object(y.jsxs)(pe,Object(I.a)(Object(I.a)({disabled:!0===c},n),{},{children:[t,!0===c&&"..."]}))},fe=function(){var e=Object(a.useState)(null),t=Object(A.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),o=Object(A.a)(r,2),i=o[0],s=o[1],d=Object(a.useState)(!1),u=Object(A.a)(d,2),h=u[0],m=u[1],b=Object(l.f)(),p=Object(l.g)().search;Object(a.useEffect)((function(){var e=new URLSearchParams(p).get("q");e&&(null===e||void 0===e?void 0:e.trim().length)>0&&j(e)}),[]);var j=function(){var e=Object(B.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s(t),0!==t.trim().length){e.next=6;break}c(null),b.push({pathname:"/"}),e.next=11;break;case 6:return e.next=8,he(t);case 8:n=e.sent,c(n),b.push({pathname:"/",search:"?q=".concat(encodeURIComponent(t))});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(B.a)(q.a.mark((function e(){var t,r,a,o,s;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return m(!0),t=n.albums,r=t.offset,a=t.limit,o=t.items,e.next=6,he(i,r+a);case 6:(s=e.sent)&&s.albums.items.length>0&&c({albums:Object(I.a)(Object(I.a)({},n.albums),{},{offset:s.albums.offset,items:[].concat(Object(S.a)(o),Object(S.a)(s.albums.items))})}),m(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=(null===n||void 0===n?void 0:n.albums.total)||0;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(D,{onSearch:j}),Object(y.jsxs)("div",{className:"mt-5",children:[i.trim().length>0&&Object(y.jsx)(H,{query:i,total:x}),n&&n.albums.items.length>0&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(ce,{results:n.albums.items}),Object(y.jsx)("div",{className:"mt-3 mb-5 text-center",children:x>n.albums.limit+n.albums.offset&&Object(y.jsx)(je,{loading:h,onClick:f,children:"Montrer plus"})})]})]})]})},xe=n(29),ge=n(61),Oe=n(64),we=function(e){var t=e.children;return Object(y.jsx)("div",{className:"d-flex flex-column",children:t})},ye=n(105),ve=r.c.div.withConfig({displayName:"AlbumHeaderstyles__Container",componentId:"sc-1q07gvq-0"})(["width:100%;display:flex;flex-direction:column;align-items:center;",""],w("\n    flex-direction: row;\n    height: 300px;\n    align-items: unset;\n  ")),_e=r.c.div.withConfig({displayName:"AlbumHeaderstyles__Cover",componentId:"sc-1q07gvq-1"})(["width:250px;height:250px;border-radius:10px;padding:10px;box-shadow:",";background-color:",";margin-bottom:20px;",""],(function(e){var t=e.theme;return"".concat(t.outerShadow,", ").concat(t.innerShadow)}),(function(e){return e.theme.black}),w("\n    width: 300px;\n    height: 300px;\n    margin-right: 30px;\n    border-radius: 0;\n    box-shadow: unset;\n    background-color: unset;\n    padding: 0;\n    margin-bottom: 0px;\n  ")),ke=r.c.img.withConfig({displayName:"AlbumHeaderstyles__CoverImg",componentId:"sc-1q07gvq-2"})(["object-fit:cover;width:100%;height:100%;object-fit:cover;"]),Ce=r.c.div.withConfig({displayName:"AlbumHeaderstyles__Infos",componentId:"sc-1q07gvq-3"})(["display:flex;flex-direction:column;align-items:center;",""],w("\n    flex: 1;\n    padding: 10px 0;\n    justify-content: space-between;\n    align-items: unset;\n  ")),Se=r.c.div.withConfig({displayName:"AlbumHeaderstyles__MainInfos",componentId:"sc-1q07gvq-4"})(["text-align:center;",""],w("\n    text-align: unset;\n  ")),Ie=r.c.div.withConfig({displayName:"AlbumHeaderstyles__BottomLine",componentId:"sc-1q07gvq-5"})(["display:flex;flex-direction:column;justify-content:space-between;align-items:center;",""],w("\n    flex-direction: row;\n  ")),Ne=r.c.div.withConfig({displayName:"AlbumHeaderstyles__Technical",componentId:"sc-1q07gvq-6"})(["color:",";margin-bottom:20px;",""],(function(e){return e.theme.faded}),w("\n    margin-bottom: unset;\n  ")),qe=function(e){var t=e.album,n=Object(l.f)();return Object(y.jsxs)(ve,{children:[Object(y.jsx)(_e,{children:Object(y.jsx)(ke,{src:t.image,alt:"".concat(t.name," album cover")})}),Object(y.jsxs)(Ce,{children:[Object(y.jsxs)(Se,{children:[Object(y.jsx)("h2",{children:t.name}),Object(y.jsxs)("p",{children:["by ",t.artists]})]}),Object(y.jsxs)(Ie,{children:[Object(y.jsxs)(Ne,{children:[t.tracks.length," tracks - ",t.duration," - ",t.release_date]}),Object(y.jsxs)(je,{onClick:function(){return n.goBack()},children:[Object(y.jsx)(ye.a,{})," Back"]})]})]})]})},Be=r.c.div.withConfig({displayName:"Explicit__Container",componentId:"sc-18ix46h-0"})(["border:1px solid ",";color:",";text-transform:uppercase;font-size:10px;padding:1px 5px;"],(function(e){return e.theme.white}),(function(e){return e.theme.white})),Ae=function(){return Object(y.jsx)(Be,{children:"Explicit"})},Te=r.c.div.withConfig({displayName:"AlbumTracksstyles__Container",componentId:"sc-1shu0al-0"})(["margin:30px 0;"]),He=r.c.div.withConfig({displayName:"AlbumTracksstyles__TrackRow",componentId:"sc-1shu0al-1"})(["width:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:15px;border-top:1px solid ",";"],(function(e){return e.theme.faded})),Re=r.c.div.withConfig({displayName:"AlbumTracksstyles__TrackColGroup",componentId:"sc-1shu0al-2"})(["display:flex;flex-direction:row;align-items:center;"]),Le=r.c.div.withConfig({displayName:"AlbumTracksstyles__TrackCol",componentId:"sc-1shu0al-3"})(["margin-right:20px;color:",";&:last-child{margin-right:0;}",""],(function(e){return e.strong?e.theme.white:e.theme.faded}),w("\n    margin-right: 30px;\n  ")),Ee=function(e){var t=e.tracks;return Object(y.jsxs)(Te,{children:[Object(y.jsxs)(He,{children:[Object(y.jsxs)(Re,{children:[Object(y.jsx)(Le,{children:"#"}),Object(y.jsx)(Le,{children:"Track"})]}),Object(y.jsx)(Re,{children:Object(y.jsx)(Le,{children:"Length"})})]}),t.map((function(e,t){return Object(y.jsxs)(He,{children:[Object(y.jsxs)(Re,{children:[Object(y.jsx)(Le,{children:e.track_number}),Object(y.jsx)(Le,{strong:!0,children:e.name})]}),Object(y.jsxs)(Re,{children:[e.explicit&&Object(y.jsx)(Le,{children:Object(y.jsx)(Ae,{})}),Object(y.jsx)(Le,{children:(n=e.duration_ms,Y(n,{units:["m","s"],round:!0,delimiter:" "}))})]})]},t);var n}))]})},Fe=function(e){return ue.get(e).then((function(e){return e.data}))},ze=function(){var e=Object(l.h)().albumId,t=Object(Oe.a)("/albums/".concat(e),Fe),n=t.data;if(t.error)return Object(y.jsx)(we,{children:Object(y.jsx)(xe.a,{variant:"danger",children:"W'oops, something went wrong"})});if(!n)return Object(y.jsx)(we,{children:Object(y.jsxs)("div",{className:"d-flex flex-row justify-content-center align-items-center",children:[Object(y.jsx)(ge.a,{animation:"border",role:"status",className:"mr-3"})," Loading album content..."]})});var c=n.tracks.items,r=Object(I.a)(Object(I.a)({},n),{},{image:K(n.images),artists:Q(n.artists),duration:V(c),tracks:c});return Object(y.jsxs)(we,{children:[Object(y.jsx)(qe,{album:r}),Object(y.jsx)(Ee,{tracks:r.tracks})]})},Pe="".concat("https://accounts.spotify.com","/authorize"),Ue=window.location.origin+"/Spotify-Browser",Me=b.a.stringify({client_id:"ced4289ebd67414e94ff171945d4a0de",response_type:"token",redirect_uri:Ue,state:se}),De=function(){var e=Object(l.g)().search,t=new URLSearchParams(e).get("error");return Object(y.jsxs)("div",{className:"text-center mt-5",children:[Object(y.jsx)("a",{href:"".concat(Pe,"?").concat(Me),children:Object(y.jsx)(je,{children:"Login to Spotify"})}),t&&Object(y.jsx)(xe.a,{variant:"danger",className:"mt-5",children:"You need to allow Spotify Browser to access basic informations about your account in order to be able to browser through Spotify's albums collection"})]})},Ge=function(){var e=Object(l.g)().hash;if(e.length>0){var t=b.a.parse(e.substring(1)),n=t.access_token,c=t.expires_in;t.state===se&&n&&c&&h.a.set("token",n,{expires:Number(c)})}var r=h.a.get("token");return Object(y.jsxs)(d.a,{children:[Object(y.jsx)(C,{}),Object(y.jsxs)(l.c,{children:[Object(y.jsx)(l.a,{path:"/album/:albumId",children:Object(y.jsx)(ze,{})}),Object(y.jsx)(l.a,{path:"/",children:r?Object(y.jsx)(fe,{}):Object(y.jsx)(De,{})})]})]})},Je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,106)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))},We=(n(101),{shadow1:"-8px -8px 30px #393E44",shadow2:"8px 8px 30px #101316",shadow3:"-1px -1px 60px ".concat(Object(E.b)(.9,"#21272C"))}),Ye={shadow1:"inset -6px -6px 12px ".concat(Object(E.b)(.5,"#161616")),shadow2:"inset 6px 6px 12px #24292D",shadow3:"inset -1px -1px 60px ".concat(Object(E.b)(.9,"#24292D"))},Ke={black:"#21272C",white:"#F5F5F5",faded:Object(E.b)(.6,"white"),primary:{main:"#1DB854",contrastText:"#ffffff"},outerShadow:"".concat(We.shadow1,", ").concat(We.shadow2,", ").concat(We.shadow3),innerShadow:"".concat(Ye.shadow1,", ").concat(Ye.shadow2,", ").concat(Ye.shadow3)},Qe=n(63),Ve=Object(r.b)(le||(le=Object(Qe.a)(["\n  body {\n    background-color: ",";\n    color: ",";\n  }\n"])),Ke.black,Ke.white);s.a.render(Object(y.jsx)(o.a.StrictMode,{children:Object(y.jsxs)(r.a,{theme:Ke,children:[Object(y.jsx)(Ve,{}),Object(y.jsx)(j.a,{basename:"/Spotify-Browser",children:Object(y.jsx)(Ge,{})})]})}),document.getElementById("root")),Je()},72:function(e,t,n){}},[[102,1,2]]]);
//# sourceMappingURL=main.201e11fa.chunk.js.map